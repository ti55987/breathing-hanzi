{"ast":null,"code":"var _jsxFileName = \"/Users/tpan/Development/volunteer/breathing-hanzi/src/components/common/audio_player.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport * as GiIcons from \"react-icons/gi\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction AudioPlayer(props) {\n  _s();\n\n  const [audio] = useState(new Audio(props.url));\n  const [playing, setPlaying] = useState(false);\n  useEffect(() => {\n    if (playing) {\n      audio.play();\n    }\n  }, [playing, audio]);\n  useEffect(() => {\n    audio.addEventListener(\"ended\", () => setPlaying(false));\n    return () => {\n      audio.removeEventListener(\"ended\", () => setPlaying(false));\n    };\n  }, [audio]);\n\n  const hitPlayer = () => setPlaying(!playing);\n\n  let className = \"audio-button\";\n\n  if (props.style) {\n    className = props.style;\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    className: className,\n    onClick: hitPlayer,\n    children: [props.btnText, \" \", /*#__PURE__*/_jsxDEV(GiIcons.GiAwareness, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 23\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AudioPlayer, \"RsFs71WabPO016PmGbmp5kCwi+c=\");\n\n_c = AudioPlayer;\nexport default AudioPlayer;\n\nvar _c;\n\n$RefreshReg$(_c, \"AudioPlayer\");","map":{"version":3,"sources":["/Users/tpan/Development/volunteer/breathing-hanzi/src/components/common/audio_player.tsx"],"names":["React","useState","useEffect","GiIcons","AudioPlayer","props","audio","Audio","url","playing","setPlaying","play","addEventListener","removeEventListener","hitPlayer","className","style","btnText"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAO,KAAKC,OAAZ,MAAyB,gBAAzB;;;AAEA,SAASC,WAAT,CAAqBC,KAArB,EAA8E;AAAA;;AAC5E,QAAM,CAACC,KAAD,IAAUL,QAAQ,CAAC,IAAIM,KAAJ,CAAUF,KAAK,CAACG,GAAhB,CAAD,CAAxB;AACA,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBT,QAAQ,CAAC,KAAD,CAAtC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIO,OAAJ,EAAa;AACXH,MAAAA,KAAK,CAACK,IAAN;AACD;AACF,GAJQ,EAIN,CAACF,OAAD,EAAUH,KAAV,CAJM,CAAT;AAMAJ,EAAAA,SAAS,CAAC,MAAM;AACdI,IAAAA,KAAK,CAACM,gBAAN,CAAuB,OAAvB,EAAgC,MAAMF,UAAU,CAAC,KAAD,CAAhD;AACA,WAAO,MAAM;AACXJ,MAAAA,KAAK,CAACO,mBAAN,CAA0B,OAA1B,EAAmC,MAAMH,UAAU,CAAC,KAAD,CAAnD;AACD,KAFD;AAGD,GALQ,EAKN,CAACJ,KAAD,CALM,CAAT;;AAOA,QAAMQ,SAAS,GAAG,MAAMJ,UAAU,CAAC,CAACD,OAAF,CAAlC;;AACA,MAAIM,SAAS,GAAG,cAAhB;;AACA,MAAIV,KAAK,CAACW,KAAV,EAAiB;AACfD,IAAAA,SAAS,GAAGV,KAAK,CAACW,KAAlB;AACD;;AAED,sBACE;AAAQ,IAAA,SAAS,EAAED,SAAnB;AAA8B,IAAA,OAAO,EAAED,SAAvC;AAAA,eACGT,KAAK,CAACY,OADT,oBACkB,QAAC,OAAD,CAAS,WAAT;AAAA;AAAA;AAAA;AAAA,YADlB;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAKD;;GA5BQb,W;;KAAAA,W;AA8BT,eAAeA,WAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport * as GiIcons from \"react-icons/gi\";\n\nfunction AudioPlayer(props: { url: string; btnText: string; style?: string }) {\n  const [audio] = useState(new Audio(props.url));\n  const [playing, setPlaying] = useState(false);\n\n  useEffect(() => {\n    if (playing) {\n      audio.play();\n    }\n  }, [playing, audio]);\n\n  useEffect(() => {\n    audio.addEventListener(\"ended\", () => setPlaying(false));\n    return () => {\n      audio.removeEventListener(\"ended\", () => setPlaying(false));\n    };\n  }, [audio]);\n\n  const hitPlayer = () => setPlaying(!playing);\n  let className = \"audio-button\";\n  if (props.style) {\n    className = props.style;\n  }\n\n  return (\n    <button className={className} onClick={hitPlayer}>\n      {props.btnText} <GiIcons.GiAwareness />\n    </button>\n  );\n}\n\nexport default AudioPlayer;\n"]},"metadata":{},"sourceType":"module"}